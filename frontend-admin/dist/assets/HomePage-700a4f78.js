import{_ as U,u as D,r as m,i as H,b as f,o as Q,c as B,d as e,t as c,e as s,w as a,j as y,E as S,k as o,l as z,n as $,s as E,m as P,p as V,g as _,q as I}from"./index-e5bf8409.js";const L={class:"home-container"},M={class:"welcome-section"},T={class:"stat-content"},j={class:"stat-text"},A={class:"stat-content"},K={class:"stat-text"},F={class:"stat-content"},G={class:"stat-text"},J={class:"stat-content"},O={class:"stat-text"},W={class:"management-grid"},X={class:"system-info"},Y={class:"info-item"},Z={class:"info-item"},h={class:"quick-actions"},tt={__name:"HomePage",setup(st){const b=D(),C=m(!1),q=m(localStorage.getItem("username")||"管理员"),g=m("online"),k=m(new Date().toLocaleString("zh-CN")),u=m({totalQuestions:0,totalExamSets:0,totalUniversities:0,totalCulture:0}),i=n=>{b.push(n)},x=async()=>{C.value=!0;try{try{const n=await y.getQuestions({page_size:1});u.value.totalQuestions=n.data.count||n.data.length||0}catch(n){console.error("获取题目数量失败:",n)}try{const n=await y.getExamSets();u.value.totalExamSets=n.data.length||0}catch(n){console.error("获取套卷数量失败:",n)}try{const n=await y.getUniversities({page_size:1});u.value.totalUniversities=n.data.count||n.data.length||0}catch(n){console.error("获取院校数量失败:",n)}try{const n=await y.getCultureContent({page_size:1});u.value.totalCulture=n.data.count||n.data.length||0}catch(n){console.error("获取文化内容数量失败:",n)}g.value="online",k.value=new Date().toLocaleString("zh-CN")}catch(n){console.error("加载统计数据失败:",n),g.value="offline",S.error("加载统计数据失败")}finally{C.value=!1}},N=()=>{x(),S.success("数据已刷新")};return H(()=>{x()}),(n,t)=>{const l=f("el-icon"),r=f("el-card"),v=f("el-col"),w=f("el-row"),R=f("el-tag"),p=f("el-button");return Q(),B("div",L,[e("div",M,[t[9]||(t[9]=e("h1",null,"HSK学习平台管理系统",-1)),e("p",null,"欢迎回来，"+c(q.value||"管理员"),1)]),s(w,{gutter:20,class:"stats-row"},{default:a(()=>[s(v,{span:6},{default:a(()=>[s(r,{class:"stat-card"},{default:a(()=>[e("div",T,[s(l,{class:"stat-icon primary"},{default:a(()=>[s(o(z))]),_:1}),e("div",j,[e("h3",null,c(u.value.totalQuestions),1),t[10]||(t[10]=e("p",null,"题目总数",-1))])])]),_:1})]),_:1}),s(v,{span:6},{default:a(()=>[s(r,{class:"stat-card"},{default:a(()=>[e("div",A,[s(l,{class:"stat-icon success"},{default:a(()=>[s(o($))]),_:1}),e("div",K,[e("h3",null,c(u.value.totalExamSets),1),t[11]||(t[11]=e("p",null,"考试套卷",-1))])])]),_:1})]),_:1}),s(v,{span:6},{default:a(()=>[s(r,{class:"stat-card"},{default:a(()=>[e("div",F,[s(l,{class:"stat-icon warning"},{default:a(()=>[s(o(E))]),_:1}),e("div",G,[e("h3",null,c(u.value.totalUniversities),1),t[12]||(t[12]=e("p",null,"院校信息",-1))])])]),_:1})]),_:1}),s(v,{span:6},{default:a(()=>[s(r,{class:"stat-card"},{default:a(()=>[e("div",J,[s(l,{class:"stat-icon danger"},{default:a(()=>[s(o(P))]),_:1}),e("div",O,[e("h3",null,c(u.value.totalCulture),1),t[13]||(t[13]=e("p",null,"文化内容",-1))])])]),_:1})]),_:1})]),_:1}),s(w,{gutter:20,class:"management-section"},{default:a(()=>[s(v,{span:12},{default:a(()=>[s(r,{class:"section-card"},{header:a(()=>t[14]||(t[14]=[e("div",{class:"card-header"},[e("span",null,"内容管理")],-1)])),default:a(()=>[e("div",W,[e("div",{class:"management-item",onClick:t[0]||(t[0]=d=>i("/questions"))},[s(l,{size:"24"},{default:a(()=>[s(o(z))]),_:1}),t[15]||(t[15]=e("span",null,"题目管理",-1))]),e("div",{class:"management-item",onClick:t[1]||(t[1]=d=>i("/exam-sets"))},[s(l,{size:"24"},{default:a(()=>[s(o($))]),_:1}),t[16]||(t[16]=e("span",null,"套卷管理",-1))]),e("div",{class:"management-item",onClick:t[2]||(t[2]=d=>i("/universities"))},[s(l,{size:"24"},{default:a(()=>[s(o(E))]),_:1}),t[17]||(t[17]=e("span",null,"院校管理",-1))]),e("div",{class:"management-item",onClick:t[3]||(t[3]=d=>i("/culture"))},[s(l,{size:"24"},{default:a(()=>[s(o(P))]),_:1}),t[18]||(t[18]=e("span",null,"文化管理",-1))])])]),_:1})]),_:1}),s(v,{span:12},{default:a(()=>[s(r,{class:"section-card"},{header:a(()=>t[19]||(t[19]=[e("div",{class:"card-header"},[e("span",null,"系统信息")],-1)])),default:a(()=>[e("div",X,[e("div",Y,[s(l,null,{default:a(()=>[s(o(V))]),_:1}),t[20]||(t[20]=e("span",null,"后端服务状态：",-1)),s(R,{type:g.value==="online"?"success":"danger"},{default:a(()=>[_(c(g.value==="online"?"在线":"离线"),1)]),_:1},8,["type"])]),e("div",Z,[s(l,null,{default:a(()=>[s(o(I))]),_:1}),t[21]||(t[21]=e("span",null,"最后更新：",-1)),e("span",null,c(k.value),1)]),s(p,{type:"primary",size:"small",onClick:N,loading:C.value},{default:a(()=>t[22]||(t[22]=[_(" 刷新数据 ")])),_:1,__:[22]},8,["loading"])])]),_:1})]),_:1})]),_:1}),s(r,{class:"quick-actions-card"},{header:a(()=>t[23]||(t[23]=[e("div",{class:"card-header"},[e("span",null,"快速操作")],-1)])),default:a(()=>[e("div",h,[s(p,{type:"primary",icon:"Plus",onClick:t[4]||(t[4]=d=>i("/questions?action=create"))},{default:a(()=>t[24]||(t[24]=[_(" 添加新题目 ")])),_:1,__:[24]}),s(p,{type:"success",icon:"Plus",onClick:t[5]||(t[5]=d=>i("/exam-sets?action=create"))},{default:a(()=>t[25]||(t[25]=[_(" 创建考试套卷 ")])),_:1,__:[25]}),s(p,{type:"warning",icon:"Plus",onClick:t[6]||(t[6]=d=>i("/universities?action=create"))},{default:a(()=>t[26]||(t[26]=[_(" 添加院校信息 ")])),_:1,__:[26]}),s(p,{type:"info",icon:"Plus",onClick:t[7]||(t[7]=d=>i("/culture?action=create"))},{default:a(()=>t[27]||(t[27]=[_(" 发布文化内容 ")])),_:1,__:[27]}),s(p,{icon:"DataAnalysis",onClick:t[8]||(t[8]=d=>i("/dashboard"))},{default:a(()=>t[28]||(t[28]=[_(" 查看数据统计 ")])),_:1,__:[28]})])]),_:1})])}}},at=U(tt,[["__scopeId","data-v-7ccc0a9c"]]);export{at as default};
