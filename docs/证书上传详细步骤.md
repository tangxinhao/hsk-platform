# 证书上传详细步骤

## 步骤 1：从阿里云下载证书

### 1.1 登录阿里云控制台
1. 打开浏览器，访问：https://ecs.console.aliyun.com
2. 登录你的阿里云账号

### 1.2 进入证书管理页面
1. 点击顶部导航栏的 **产品与服务**
2. 搜索并点击 **数字证书管理服务**
3. 在左侧菜单点击 **SSL证书管理**
4. 点击 **个人测试证书 (原免费证书)** 标签页

### 1.3 下载证书
1. 找到证书 `cert-wmwmfb`（域名：www.tangxinhao.online）
2. 点击证书右侧的 **下载** 按钮
3. 在弹出的对话框中选择 **Nginx** 格式
4. 点击 **下载**，会下载一个压缩包（例如：`www.tangxinhao.online_nginx.zip`）

### 1.4 解压证书文件
1. 在本地电脑上找到下载的压缩包
2. 解压后会得到两个文件：
   - `xxx.pem`（证书文件，文件名可能不同）
   - `xxx.key`（私钥文件，文件名可能不同）

**记住这两个文件的位置**（通常在"下载"文件夹）

---

## 步骤 2：使用 FinalShell 上传证书

### 2.1 连接到服务器
1. 打开 FinalShell
2. 连接到你的服务器 `118.190.106.159`

### 2.2 创建证书目录
在 FinalShell 的终端中执行：

```bash
mkdir -p /root/bs/ssl/tangxinhao.online
```

### 2.3 上传文件（方法一：使用 FinalShell 文件管理器）

1. **打开文件管理器**：
   - 在 FinalShell 左侧，找到你的服务器连接
   - 点击展开，会看到 **文件管理器** 图标
   - 点击打开文件管理器

2. **导航到目标目录**：
   - 在文件管理器中，依次进入：
     - `/root/`
     - `bs/`
     - `ssl/`
   - 如果 `ssl` 文件夹不存在，右键点击 `bs` 文件夹 → **新建文件夹** → 输入 `ssl`
   - 进入 `ssl` 文件夹
   - 如果 `tangxinhao.online` 文件夹不存在，右键点击 `ssl` 文件夹 → **新建文件夹** → 输入 `tangxinhao.online`
   - 进入 `tangxinhao.online` 文件夹

3. **上传证书文件**：
   - 在 FinalShell 文件管理器中，找到本地电脑的"下载"文件夹
   - 找到解压后的两个文件（`.pem` 和 `.key` 文件）
   - **拖拽这两个文件**到 FinalShell 文件管理器的 `/root/bs/ssl/tangxinhao.online/` 目录中
   - 或者：右键点击文件 → **上传** → 选择目标目录

4. **重命名文件**：
   - 在 `/root/bs/ssl/tangxinhao.online/` 目录中
   - 右键点击 `.pem` 文件 → **重命名** → 改为 `cert.pem`
   - 右键点击 `.key` 文件 → **重命名** → 改为 `cert.key`

### 2.4 上传文件（方法二：使用命令行 scp）

如果你熟悉命令行，可以在本地电脑的终端（PowerShell 或 CMD）中执行：

```bash
# 进入证书文件所在目录（例如：下载文件夹）
cd C:\Users\你的用户名\Downloads

# 上传文件（替换为实际的文件名）
scp 证书文件名.pem root@118.190.106.159:/root/bs/ssl/tangxinhao.online/cert.pem
scp 证书文件名.key root@118.190.106.159:/root/bs/ssl/tangxinhao.online/cert.key
```

---

## 步骤 3：验证文件已上传

在 FinalShell 终端中执行：

```bash
# 检查文件是否存在
ls -la /root/bs/ssl/tangxinhao.online/

# 应该看到：
# cert.pem
# cert.key
```

如果看到这两个文件，说明上传成功！

---

## 步骤 4：重启 Nginx

```bash
docker restart hsk-nginx
```

---

## 步骤 5：测试 HTTPS

在浏览器访问：
- `https://www.tangxinhao.online`
- 如果看到锁图标 ✅，说明配置成功！

---

## 常见问题

### Q: 找不到证书文件？
A: 检查下载文件夹，或者重新从阿里云下载

### Q: FinalShell 文件管理器在哪里？
A: 在左侧服务器连接下方，有一个文件夹图标，点击即可打开

### Q: 上传失败？
A: 确保服务器连接正常，并且有写入权限

### Q: 如何确认文件上传成功？
A: 在 FinalShell 终端执行 `ls /root/bs/ssl/tangxinhao.online/`，应该看到 `cert.pem` 和 `cert.key`
