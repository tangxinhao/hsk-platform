<!-- é¢˜ç›®åˆ—è¡¨é¡µ -->
<view class="question-list-page">
  <!-- é¡¶éƒ¨ç­›é€‰ -->
  <view class="filter-bar">
    <picker bindchange="onTypeChange" range="{{types}}" range-key="label" value="{{typeIndex}}">
      <view class="filter-item">
        <text>{{selectedType || 'å…¨éƒ¨ç±»å‹'}}</text>
        <text class="dropdown">â–¼</text>
      </view>
    </picker>
  </view>

  <!-- LoadingçŠ¶æ€ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-container" wx:elif="{{questions.length === 0}}">
    <text class="empty-icon">ğŸ“</text>
    <text class="empty-text">æš‚æ— é¢˜ç›®</text>
  </view>

  <!-- é¢˜ç›®åˆ—è¡¨ -->
  <view class="question-list" wx:else>
    <view 
      class="question-item" 
      wx:for="{{questions}}" 
      wx:key="id"
      bindtap="goToQuestion"
      data-id="{{item.id}}"
      data-index="{{index}}"
    >
      <view class="question-header">
        <text class="question-num">{{index + 1}}</text>
        <view class="question-meta">
          <text class="question-type">{{item.type_display || item.type}}</text>
          <text class="question-level">HSK{{item.level}}</text>
        </view>
      </view>
      
      <text class="question-content">{{item.content}}</text>
      
      <view class="question-footer">
        <view class="question-tags">
          <text class="tag" wx:if="{{item.audio_url}}">ğŸµéŸ³é¢‘</text>
          <text class="tag" wx:if="{{item.image_url}}">ğŸ–¼ï¸å›¾ç‰‡</text>
        </view>
        <text class="question-status {{item.done ? 'done' : ''}}">
          {{item.done ? 'âœ“å·²å®Œæˆ' : 'æœªåš'}}
        </text>
      </view>
    </view>
  </view>

  <!-- åˆ†é¡µåŠ è½½ -->
  <view class="load-more" wx:if="{{hasMore && !loading}}">
    <text bindtap="loadMore">åŠ è½½æ›´å¤š...</text>
  </view>
</view>
